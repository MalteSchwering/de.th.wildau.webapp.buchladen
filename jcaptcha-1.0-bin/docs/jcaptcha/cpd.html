<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">











<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>JCaptcha - CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
                                                    
<script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script>
                                                        
<script type="text/javascript">var pageTracker = _gat._getTracker("UA-3856069-2");
        pageTracker._initData();
        pageTracker._trackPageview();</script>
                    </head>
  <body class="composite">
    <div id="banner">
                  <a href=".." id="bannerLeft">
    
                                            <img src="images/jcaptcha-logo.jpg" alt="" />
    
            </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
  

  
    
            
  
    
            <div class="xleft">
        Last Published: 03 Feb 2009
                  &nbsp;| Version: 1.0
                      </div>
            <div class="xright">            <a href="http://www.octo.com" class="externalLink">OCTO Technology</a>
            
  

  
    
            
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
  

  
    
            
  
    
                   <h5>Overview</h5>
            <ul>
              
    <li class="none">
                    <a href="index.html">Introduction</a>
          </li>
              
    <li class="none">
                    <a href="http://sourceforge.net/project/showfiles.php?group_id=97877" class="externalLink">Download</a>
          </li>
              
    <li class="none">
                    <a href="http://forge.octo.com/jcaptcha/confluence" class="externalLink">Wiki Documentation</a>
          </li>
              
    <li class="none">
                    <a href="http://forge.octo.com/jcaptcha/jira" class="externalLink">Issue tracker</a>
          </li>
              
    <li class="none">
                    <a href="http://sourceforge.net/projects/jcaptcha" class="externalLink">Sourceforge site</a>
          </li>
              
    <li class="none">
                    <a href="http://fisheye3.cenqua.com/browse/jcaptcha" class="externalLink">Browse source</a>
          </li>
              
    <li class="none">
                    <a href="mail-lists.html">Mailing lists</a>
          </li>
              
    <li class="none">
                    <a href="team-list.html">Project Team</a>
          </li>
              
    <li class="none">
                    <a href="thanks.html">Thanks</a>
          </li>
          </ul>
              <h5>Parent Project</h5>
            <ul>
              
    <li class="none">
                    <a href="../index.html">JCaptcha Home</a>
          </li>
          </ul>
              <h5>Project Documentation</h5>
            <ul>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
                    <a href="project-info.html">Project Information</a>
                </li>
              
                
              
      
            
      
            
            
            
      
            
      
            
      
            
      
            
      
            
      
              
            <li class="expanded">
                    <a href="project-reports.html">Project Reports</a>
                  <ul>
                  
    <li class="none">
                    <a href="checkstyle.html">Checkstyle</a>
          </li>
                  
    <li class="none">
                    <a href="clover/index.html">Clover</a>
          </li>
                  
    <li class="none">
              <strong>CPD Report</strong>
        </li>
                  
    <li class="none">
                    <a href="findbugs.html">FindBugs Report</a>
          </li>
                  
    <li class="none">
                    <a href="apidocs/index.html">JavaDocs</a>
          </li>
                  
    <li class="none">
                    <a href="surefire-report.html">Maven Surefire Report</a>
          </li>
                  
    <li class="none">
                    <a href="pmd.html">PMD Report</a>
          </li>
                  
    <li class="none">
                    <a href="jxr.html">Source Xref</a>
          </li>
                  
    <li class="none">
                    <a href="taglist.html">Tag List</a>
          </li>
              </ul>
        </li>
          </ul>
                                           <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
            <img alt="Built by Maven" src="./images/logos/maven-feather.png"></img>
          </a>
                       
  

  
    
            
  
    
        </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>CPD Results</h2>
<p>The following document contains the results of PMD's  <a href="http://pmd.sourceforge.net/cpd.html" class="externalLink">CPD</a>
 4.2.2.</p>
</div>
<div class="section"><h2>Duplications</h2>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\FilteredGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredGimpyEngine.html#44">44</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredListGimpyEngine.html#41">41</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    protected void buildInitialFactories() {

        //      build filters
        com.jhlabs.image.EmbossFilter emboss = new com.jhlabs.image.EmbossFilter();
        com.jhlabs.image.SphereFilter sphere = new com.jhlabs.image.SphereFilter();
        com.jhlabs.image.RippleFilter rippleBack = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.RippleFilter ripple = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.TwirlFilter twirl = new com.jhlabs.image.TwirlFilter();
        com.jhlabs.image.WaterFilter water = new com.jhlabs.image.WaterFilter();
        com.jhlabs.image.WeaveFilter weaves = new com.jhlabs.image.WeaveFilter();
        com.jhlabs.image.CrystalizeFilter crystal = new com.jhlabs.image.CrystalizeFilter();

        emboss.setBumpHeight(2.0f);

        ripple.setWaveType(com.jhlabs.image.RippleFilter.NOISE);
        ripple.setXAmplitude(10);
        ripple.setYAmplitude(3);
        ripple.setXWavelength(20);
        ripple.setYWavelength(10);
        ripple.setEdgeAction(com.jhlabs.image.TransformFilter.CLAMP);

        rippleBack.setWaveType(com.jhlabs.image.RippleFilter.NOISE);
        rippleBack.setXAmplitude(5);
        rippleBack.setYAmplitude(5);
        rippleBack.setXWavelength(10);
        rippleBack.setYWavelength(10);
        rippleBack.setEdgeAction(com.jhlabs.image.TransformFilter.CLAMP);

        water.setAmplitude(5);
        water.setAntialias(true);
        water.setWavelength(10);

        twirl.setAngle(3 / 360);

        sphere.setRefractionIndex(1);

        weaves.setUseImageColors(true);

        crystal.setScale(0.5f);
        crystal.setGridType(com.jhlabs.image.CrystalizeFilter.RANDOM);
        crystal.setFadeEdges(false);
        crystal.setEdgeThickness(0.2f);
        crystal.setRandomness(0.1f);

        TextPaster paster =
                new RandomTextPaster(new Integer(8), new Integer(10),
                        Color.gray);
        BackgroundGenerator back =
                new FunkyBackgroundGenerator(new Integer(200),
                        new Integer(100));
        FontGenerator font =
                new RandomFontGenerator(new Integer(25), new Integer(35));
        com.octo.captcha.component.word.wordgenerator.WordGenerator words =
                new com.octo.captcha.component.word.wordgenerator.DictionaryWordGenerator(
                        new com.octo.captcha.component.word.FileDictionary(
                                &quot;toddlist&quot;));</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\LineRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/LineRandomTextPaster.html#143">143</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\textdecorator\LineTextDecorator.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/textdecorator/LineTextDecorator.html#84">84</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>            Rectangle2D bounds = newAttrString.getBounds(j).getFrame();
            for (int i = 0; i &lt; numberOfLinesPerGlyph.intValue(); i++) {
                // double circleSize = circleMaxSize * (1 + myRandom.nextDouble()) / 2;
                double circlex = bounds.getMinX() + bounds.getWidth() * 0.7 * myRandom.nextDouble();
                double circley = bounds.getMinY() - bounds.getHeight() * 0.5
                        * myRandom.nextDouble();
                //width
                double width = 5 + myRandom.nextInt(25);
                //length
                double length = 5 + myRandom.nextInt(25);
                //get an angle between 0 and PI
                double angle = Math.PI * myRandom.nextDouble();
                //rotation and translation where the character is
                AffineTransform transformation = new AffineTransform(Math.cos(angle), -Math
                        .sin(angle), Math.sin(angle), Math.cos(angle), circlex, circley);

                QuadCurve2D q = new QuadCurve2D.Double();
                // start poitn , control point, finhsi point
                q.setCurve(0, 0, (length / 2.0) + 15.0 * myRandom.nextDouble()
                        * (myRandom.nextBoolean() ? -1 : 1), (width / 2.0) + 15.0
                        * myRandom.nextDouble() * (myRandom.nextBoolean() ? -1 : 1), length, width);
                g2.setStroke(new BasicStroke(2 + myRandom.nextInt(4)));
                g2.draw(transformation.createTransformedShape(q));
            }
        }
        g2.setComposite(oldComp);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\FilteredGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredGimpyEngine.html#98">98</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredListGimpyEngine.html#99">99</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        com.octo.captcha.image.ImageCaptchaFactory[] factories = new com.octo.captcha.image.ImageCaptchaFactory[3];
        com.octo.captcha.component.image.wordtoimage.WordToImage word2image =
                new com.octo.captcha.component.image.wordtoimage.FilteredComposedWordToImage(
                        font,
                        back,
                        paster,
                        new ImageFilter[]{water},
                        new ImageFilter[]{emboss},
                        new ImageFilter[]{ripple});
        factories[0] =
                new com.octo.captcha.image.gimpy.GimpyFactory(words,
                        word2image);
        //select filters for 2
        word2image =
                new com.octo.captcha.component.image.wordtoimage.FilteredComposedWordToImage(
                        font,
                        back,
                        paster,
                        new ImageFilter[]{rippleBack},
                        new ImageFilter[]{crystal},
                        new ImageFilter[]{ripple});
        factories[1] =
                new com.octo.captcha.image.gimpy.GimpyFactory(words,
                        word2image);
        //select filters for 3
        word2image =
                new com.octo.captcha.component.image.wordtoimage.FilteredComposedWordToImage(
                        font,
                        back,
                        paster,
                        new ImageFilter[]{rippleBack},
                        new ImageFilter[]{},
                        new ImageFilter[]{weaves});
        factories[2] =
                new com.octo.captcha.image.gimpy.GimpyFactory(words,
                        word2image);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\FilteredBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredBaffleListGimpyEngine.html#39">39</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredListGimpyEngine.html#39">39</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        extends com.octo.captcha.engine.image.ListImageCaptchaEngine {

    protected void buildInitialFactories() {

        //      build filters
        com.jhlabs.image.EmbossFilter emboss = new com.jhlabs.image.EmbossFilter();
        com.jhlabs.image.SphereFilter sphere = new com.jhlabs.image.SphereFilter();
        com.jhlabs.image.RippleFilter rippleBack = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.RippleFilter ripple = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.TwirlFilter twirl = new com.jhlabs.image.TwirlFilter();
        com.jhlabs.image.WaterFilter water = new com.jhlabs.image.WaterFilter();
        com.jhlabs.image.WeaveFilter weaves = new com.jhlabs.image.WeaveFilter();
        com.jhlabs.image.CrystalizeFilter crystal = new com.jhlabs.image.CrystalizeFilter();

        emboss.setBumpHeight(2.0f);

        ripple.setWaveType(com.jhlabs.image.RippleFilter.NOISE);
        ripple.setXAmplitude(10);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\wordtoimage\DeformedComposedWordToImageTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/wordtoimage/DeformedComposedWordToImageTest.html#47">47</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\wordtoimage\FilteredComposedWordToImageTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/wordtoimage/FilteredComposedWordToImageTest.html#45">45</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    private Integer minAcceptedWordLength = new Integer(1);
    private Integer maxAcceptedWordLength = new Integer(10);
    private Integer imageHeight = new Integer(100);
    private Integer imageWidth = new Integer(100);
    private Integer minFontSize = new Integer(10);
    private Integer maxFontSize = new Integer(10);

    public void setUp() {

        BackgroundGenerator background = new GradientBackgroundGenerator(this.imageHeight, this.imageWidth, Color.black, Color.white);
        FontGenerator fontGenerator = new RandomFontGenerator(this.minFontSize, this.maxFontSize);
        TextPaster textPaster = new SimpleTextPaster(this.minAcceptedWordLength, this.maxAcceptedWordLength, Color.blue);

        ImageFilter backFilter = new ReplicateScaleFilter(background.getImageWidth(),
                background.getImageHeight());

        ImageFilter textFilter = new ReplicateScaleFilter(background.getImageWidth(),
                background.getImageHeight());

        ImageFilter finalFilter = new ReplicateScaleFilter(background.getImageWidth(),
                background.getImageHeight());

        ImageFilter[] backFilters = {backFilter};

        ImageFilter[] textFilters = {textFilter};

        ImageFilter[] finalFilters = {finalFilter};</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\DeformedBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/DeformedBaffleListGimpyEngine.html#59">59</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredBaffleListGimpyEngine.html#53">53</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        emboss.setBumpHeight(2.0f);

        ripple.setWaveType(com.jhlabs.image.RippleFilter.NOISE);
        ripple.setXAmplitude(3);
        ripple.setYAmplitude(3);
        ripple.setXWavelength(20);
        ripple.setYWavelength(10);
        ripple.setEdgeAction(com.jhlabs.image.TransformFilter.CLAMP);

        rippleBack.setWaveType(com.jhlabs.image.RippleFilter.NOISE);
        rippleBack.setXAmplitude(5);
        rippleBack.setYAmplitude(5);
        rippleBack.setXWavelength(10);
        rippleBack.setYWavelength(10);
        rippleBack.setEdgeAction(com.jhlabs.image.TransformFilter.CLAMP);

        water.setAmplitude(1);
        water.setAntialias(true);
        water.setWavelength(20);

        twirl.setAngle(3 / 360);

        sphere.setRefractionIndex(1);

        weaves.setUseImageColors(true);

        crystal.setScale(0.5f);
        crystal.setGridType(com.jhlabs.image.CrystalizeFilter.RANDOM);
        crystal.setFadeEdges(false);
        crystal.setEdgeThickness(0.2f);
        crystal.setRandomness(0.1f);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\FilteredBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredBaffleListGimpyEngine.html#41">41</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredGimpyEngine.html#44">44</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    static {
        //build filters
        com.jhlabs.image.EmbossFilter emboss = new com.jhlabs.image.EmbossFilter();
        com.jhlabs.image.SphereFilter sphere = new com.jhlabs.image.SphereFilter();
        com.jhlabs.image.RippleFilter rippleBack = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.RippleFilter ripple = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.TwirlFilter twirl = new com.jhlabs.image.TwirlFilter();
        com.jhlabs.image.WaterFilter water = new com.jhlabs.image.WaterFilter();
        com.jhlabs.image.WeaveFilter weaves = new com.jhlabs.image.WeaveFilter();
        com.jhlabs.image.CrystalizeFilter crystal = new com.jhlabs.image.CrystalizeFilter();

        emboss.setBumpHeight(2.0f);

        ripple.setWaveType(com.jhlabs.image.RippleFilter.NOISE);
        ripple.setXAmplitude(10);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\DeformedBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/DeformedBaffleListGimpyEngine.html#46">46</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredListGimpyEngine.html#39">39</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        extends com.octo.captcha.engine.image.ListImageCaptchaEngine {

    protected void buildInitialFactories() {

        //build filters
        com.jhlabs.image.EmbossFilter emboss = new com.jhlabs.image.EmbossFilter();
        com.jhlabs.image.SphereFilter sphere = new com.jhlabs.image.SphereFilter();
        com.jhlabs.image.RippleFilter rippleBack = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.RippleFilter ripple = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.TwirlFilter twirl = new com.jhlabs.image.TwirlFilter();
        com.jhlabs.image.WaterFilter water = new com.jhlabs.image.WaterFilter();
        com.jhlabs.image.WeaveFilter weaves = new com.jhlabs.image.WeaveFilter();
        com.jhlabs.image.CrystalizeFilter crystal = new com.jhlabs.image.CrystalizeFilter();</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\DeformedBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/DeformedBaffleListGimpyEngine.html#48">48</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredGimpyEngine.html#44">44</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    static {
        //build filters
        com.jhlabs.image.EmbossFilter emboss = new com.jhlabs.image.EmbossFilter();
        com.jhlabs.image.SphereFilter sphere = new com.jhlabs.image.SphereFilter();
        com.jhlabs.image.RippleFilter rippleBack = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.RippleFilter ripple = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.TwirlFilter twirl = new com.jhlabs.image.TwirlFilter();
        com.jhlabs.image.WaterFilter water = new com.jhlabs.image.WaterFilter();
        com.jhlabs.image.WeaveFilter weaves = new com.jhlabs.image.WeaveFilter();
        com.jhlabs.image.CrystalizeFilter crystal = new com.jhlabs.image.CrystalizeFilter();</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\BaffleRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/BaffleRandomTextPaster.html#155">155</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\textdecorator\BaffleTextDecorator.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/textdecorator/BaffleTextDecorator.html#98">98</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>            Rectangle2D bounds = newAttrString.getBounds(j).getFrame();
            double circleMaxSize = (double) bounds.getWidth() / 2;
            for (int i = 0; i &lt; numberOfHolesPerGlyph.intValue(); i++) {
                double circleSize = circleMaxSize * (1 + myRandom.nextDouble()) / 2;
                double circlex = bounds.getMinX() + bounds.getWidth() * circleXRatio
                        * myRandom.nextDouble();
                double circley = bounds.getMinY() - bounds.getHeight() * circleYRatio
                        * myRandom.nextDouble();
                Ellipse2D circle = new Ellipse2D.Double(circlex, circley, circleSize, circleSize);
                g2.fill(circle);
            }
        }
        g2.setColor(oldColor);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\sound\speller\SpellerSoundFactoryTest.java</td>
<td><a href="./xref-test/com/octo/captcha/sound/speller/SpellerSoundFactoryTest.html#26">26</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\sound\spellfind\SpellFindCaptchaFactoryTest.java</td>
<td><a href="./xref-test/com/octo/captcha/sound/spellfind/SpellFindCaptchaFactoryTest.html#28">28</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>public class SpellFindCaptchaFactoryTest extends TestCase {

    public void testSpellerSoundFactory() throws Exception {
        try {
            new SpellerSoundFactory(null, null, null);
            fail(&quot;Test is not implemented&quot;);
        } catch (CaptchaException e) {
            assertNotNull(e.getMessage());
        }
        try {
            new SpellerSoundFactory(new RandomWordGenerator(&quot;a&quot;), null, null);
            fail(&quot;Test is not implemented&quot;);
        } catch (CaptchaException e) {
            assertNotNull(e.getMessage());
        }

        try {
            new SpellerSoundFactory(null, new WordToSoundMock(), null);
            fail(&quot;Test is not implemented&quot;);
        } catch (CaptchaException e) {
            assertNotNull(e.getMessage());
        }
    }


    public void testGetSoundCaptcha() throws Exception {</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\BaffleRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/BaffleRandomTextPaster.html#115">115</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\DecoratedRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/DecoratedRandomTextPaster.html#52">52</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    }

    /**
     * Pastes the attributed string on the backround image and return the final image. Implementation must take into
     * account the fact that the text must be readable by human and non by programs
     *
     * @return the final image
     *
     * @throws com.octo.captcha.CaptchaException
     *          if any exception accurs during paste routine.
     */
    public BufferedImage pasteText(BufferedImage background, AttributedString attributedWord)
            throws CaptchaException {
        BufferedImage out = copyBackground(background);
        Graphics2D g2 = pasteBackgroundAndSetTextColor(out, background);
        g2.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS,
                RenderingHints.VALUE_FRACTIONALMETRICS_ON);
        g2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);
        g2.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,
                RenderingHints.VALUE_TEXT_ANTIALIAS_ON);
        // this attribute doesn't do anything in JDK 1.4, but maybe it will in JDK 1.5
        // attributedString.addAttribute(TextAttribute.WIDTH, TextAttribute.WIDTH_EXTENDED);

        // convert string into a series of glyphs we can work with
        ChangeableAttributedString newAttrString = new ChangeableAttributedString(g2,
                attributedWord, kerning);

        // space out the glyphs with a little kerning
        newAttrString.useMinimumSpacing(kerning);
        // shift string to a random spot in the output imge
        newAttrString.moveToRandomSpot(background);
        // now draw each glyph at the appropriate spot on th eimage.
        if (isManageColorPerGlyph()) {
            newAttrString.drawString(g2, getColorGenerator());
        } else {
            newAttrString.drawString(g2);
        }</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\sound\speller\SoundSpellerFactoryTest.java</td>
<td><a href="./xref-test/com/octo/captcha/sound/speller/SoundSpellerFactoryTest.html#27">27</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\sound\spellfind\SpellFindCaptchaFactoryTest.java</td>
<td><a href="./xref-test/com/octo/captcha/sound/spellfind/SpellFindCaptchaFactoryTest.html#28">28</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>public class SpellerSoundFactoryTest extends TestCase {

      public void testSpellerSoundFactory() throws Exception {
          try {
              new SpellerSoundFactory(null, null, null);
              fail(&quot;Test is not implemented&quot;);
          } catch (CaptchaException e) {
              assertNotNull(e.getMessage());
          }
          try {
              new SpellerSoundFactory(new RandomWordGenerator(&quot;a&quot;), null, null);
              fail(&quot;Test is not implemented&quot;);
          } catch (CaptchaException e) {
              assertNotNull(e.getMessage());
          }

          try {
              new SpellerSoundFactory(null, new WordToSoundMock(), null);
              fail(&quot;Test is not implemented&quot;);
          } catch (CaptchaException e) {
              assertNotNull(e.getMessage());
          }
      }</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\BaffleRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/BaffleRandomTextPaster.html#114">114</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\LineRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/LineRandomTextPaster.html#103">103</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>                : colorGenerator;
    }

    /**
     * Pastes the attributed string on the backround image and return the final image. Implementation must take into
     * account the fact that the text must be readable by human and non by programs
     *
     * @return the final image
     *
     * @throws CaptchaException if any exception accurs during paste routine.
     */
    public BufferedImage pasteText(BufferedImage background, AttributedString attributedWord)
            throws CaptchaException {
        BufferedImage out = copyBackground(background);
        Graphics2D g2 = pasteBackgroundAndSetTextColor(out, background);
        g2.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS,
                RenderingHints.VALUE_FRACTIONALMETRICS_ON);
        g2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);
        g2.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,
                RenderingHints.VALUE_TEXT_ANTIALIAS_ON);
        // this attribute doesn't do anything in JDK 1.4, but maybe it will in JDK 1.5
        // attributedString.addAttribute(TextAttribute.WIDTH, TextAttribute.WIDTH_EXTENDED);

        // convert string into a series of glyphs we can work with
        ChangeableAttributedString newAttrString = new ChangeableAttributedString(g2,
                attributedWord, kerning);

        // space out the glyphs with a little kerning
        newAttrString.useMinimumSpacing(kerning);
        // shift string to a random spot in the output imge
        newAttrString.moveToRandomSpot(background);
        // now draw each glyph at the appropriate spot on th eimage.
        if (isManageColorPerGlyph())</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\DecoratedRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/DecoratedRandomTextPaster.html#52">52</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\LineRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/LineRandomTextPaster.html#104">104</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    }

    /**
     * Pastes the attributed string on the backround image and return the final image. Implementation must take into
     * account the fact that the text must be readable by human and non by programs
     *
     * @return the final image
     *
     * @throws CaptchaException if any exception accurs during paste routine.
     */
    public BufferedImage pasteText(BufferedImage background, AttributedString attributedWord)
            throws CaptchaException {
        BufferedImage out = copyBackground(background);
        Graphics2D g2 = pasteBackgroundAndSetTextColor(out, background);
        g2.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS,
                RenderingHints.VALUE_FRACTIONALMETRICS_ON);
        g2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);
        g2.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,
                RenderingHints.VALUE_TEXT_ANTIALIAS_ON);
        // this attribute doesn't do anything in JDK 1.4, but maybe it will in JDK 1.5
        // attributedString.addAttribute(TextAttribute.WIDTH, TextAttribute.WIDTH_EXTENDED);

        // convert string into a series of glyphs we can work with
        ChangeableAttributedString newAttrString = new ChangeableAttributedString(g2,
                attributedWord, kerning);

        // space out the glyphs with a little kerning
        newAttrString.useMinimumSpacing(kerning);
        // shift string to a random spot in the output imge
        newAttrString.moveToRandomSpot(background);
        // now draw each glyph at the appropriate spot on th eimage.
        if (isManageColorPerGlyph())</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\color\RandomRangeColorGeneratorTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/color/RandomRangeColorGeneratorTest.html#38">38</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\color\RandomRangeColorGeneratorTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/color/RandomRangeColorGeneratorTest.html#56">56</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        colorGenerator = new RandomRangeColorGenerator(redRange, greenRange, blueRange);

        // due to the random factor, test is repeated several times
        for (int i = 0; i &lt; 100; i++) {
            Color color = colorGenerator.getNextColor();

            assertTrue(color.getRed() &gt;= redRange[0] &amp;&amp; color.getRed() &lt;= redRange[1]);
            assertTrue(color.getGreen() &gt;= greenRange[0] &amp;&amp; color.getGreen() &lt;= greenRange[1]);
            assertTrue(color.getBlue() &gt;= blueRange[0] &amp;&amp; color.getBlue() &lt;= blueRange[1]);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\sound\gimpy\GimpySoundFactory.java</td>
<td><a href="./xref/com/octo/captcha/sound/gimpy/GimpySoundFactory.html#85">85</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\sound\speller\SpellerSoundFactory.java</td>
<td><a href="./xref/com/octo/captcha/sound/speller/SpellerSoundFactory.html#94">94</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        SoundCaptcha soundCaptcha = new SpellerSound(getQuestion(locale), sound, word);
        return soundCaptcha;
    }

    protected String getQuestion(Locale locale) {
        return CaptchaQuestionHelper.getQuestion(locale, BUNDLE_QUESTION_KEY);
    }

    protected Integer getRandomLength() {
        Integer wordLength;
        int range = getWordToSound().getMaxAcceptedWordLength()
                - getWordToSound().getMinAcceptedWordLength();
        int randomRange = range != 0 ? myRandom.nextInt(range + 1) : 0;
        wordLength = new Integer(randomRange + getWordToSound().getMinAcceptedWordLength());
        return wordLength;
    }

}</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\wordtoimage\DeformedComposedWordToImage.java</td>
<td><a href="./xref/com/octo/captcha/component/image/wordtoimage/DeformedComposedWordToImage.html#80">80</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\wordtoimage\FilteredComposedWordToImage.java</td>
<td><a href="./xref/com/octo/captcha/component/image/wordtoimage/FilteredComposedWordToImage.html#60">60</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    }

    /**
     * Creates an image of the provided String This method is a skeleton for creation algorithm. it proceeds as folows :
     * &lt;ul&gt; &lt;li&gt;Checks the word length&lt;/li&gt; &lt;li&gt;Creates an java.text.AttributedString from the word&lt;/li&gt; &lt;li&gt;Create an
     * image for the background using the abstact method getBackround&lt;/li&gt; &lt;li&gt;Apply background filters&lt;/li&gt; &lt;li&gt;Apply
     * font to the AttributedString using the abstract method getFont&lt;/li&gt; &lt;li&gt;Create a transparent backround &lt;/li&gt;
     * &lt;li&gt;Put the text on the transparent backround using the abstact method pasteText&lt;/li&gt; &lt;li&gt;Apply the text filters
     * &lt;/li&gt; &lt;li&gt;Paste the transparent image using an alpha composite&lt;/li&gt; &lt;li&gt;Apply the final filters &lt;/li&gt; &lt;li&gt;Return
     * the newly created image&lt;/li&gt; &lt;/ul&gt;
     *
     * @return an image representation of the word
     *
     * @throws CaptchaException if word is invalid or if image generation fails.
     */
    public BufferedImage getImage(String word) throws CaptchaException {
        BufferedImage background = getBackround();
        AttributedString aword = getAttributedString(word, checkWordLength(word));
        //copy background
        BufferedImage out = new BufferedImage(background.getWidth(), background.getHeight(),
                background.getType());
        Graphics2D g2 = (Graphics2D) out.getGraphics();
        //paste background
        g2.drawImage(background, 0, 0, out.getWidth(), out.getHeight(), null);
        g2.dispose();</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\module\web\image\ImageToJpegHelper.java</td>
<td><a href="./xref/com/octo/captcha/module/web/image/ImageToJpegHelper.html#65">65</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\module\web\sound\SoundToWavHelper.java</td>
<td><a href="./xref/com/octo/captcha/module/web/sound/SoundToWavHelper.html#55">55</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>            AudioSystem.write(stream, AudioFileFormat.Type.WAVE, wavOutputStream);
            //AudioSystem.(pAudioInputStream, AudioFileFormat.Type.WAVE, pFile);

        }
        catch (IllegalArgumentException e) {
            //    log a security warning and return a 404...
            if (log != null &amp;&amp; log.isWarnEnabled()) {
                log.warn(&quot;There was a try from &quot; + theRequest.getRemoteAddr()
                        + &quot; to render an captcha with invalid ID :'&quot; + id + &quot;' or with a too long one&quot;);
                theResponse.sendError(HttpServletResponse.SC_NOT_FOUND);
                return;
            }
        }
        catch (CaptchaServiceException e) {
            // log and return a 404 instead of an image...
            if (log != null &amp;&amp; log.isWarnEnabled()) {
                log.warn(

                        &quot;Error trying to generate a captcha and &quot; + &quot;render its challenge as JPEG&quot;, e);
            }
            theResponse.sendError(HttpServletResponse.SC_NOT_FOUND);
            return;
        }</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\DeformedBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/DeformedBaffleListGimpyEngine.html#108">108</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredBaffleListGimpyEngine.html#86">86</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        com.octo.captcha.component.word.wordgenerator.WordGenerator words = new com.octo.captcha.component.word.wordgenerator.DictionaryWordGenerator(
                new com.octo.captcha.component.word.FileDictionary(
                        &quot;toddlist&quot;));
        //wordtoimage components
        TextPaster paster = new BaffleRandomTextPaster(new Integer(6), new Integer(
                8), Color.black, new Integer(3),
                Color.white);
        BackgroundGenerator back = new UniColorBackgroundGenerator(
                new Integer(200), new Integer(100), Color.white);
        //BackgroundGenerator back = new FunkyBackgroundGenerator(new Integer(200), new Integer(100));
        FontGenerator font = new TwistedAndShearedRandomFontGenerator(
                new Integer(30), new Integer(40));</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\sound\gimpy\GimpySound.java</td>
<td><a href="./xref/com/octo/captcha/sound/gimpy/GimpySound.html#24">24</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\sound\speller\SpellerSound.java</td>
<td><a href="./xref/com/octo/captcha/sound/speller/SpellerSound.html#23">23</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>      public SpellFindCaptcha(String thequestion,
                          AudioInputStream thechallenge, String theresponse) {
          super(thequestion, thechallenge);
          this.response = theresponse;
      }

      public Boolean validateResponse(Object theresponse) {
          if ((theresponse != null) &amp;&amp; (theresponse instanceof String)) {
              return this.validateResponse((String) theresponse);
          } else {
              return Boolean.FALSE;
          }
      }

      public Boolean validateResponse(String theresponse) {
          return Boolean.valueOf(this.response.equalsIgnoreCase(theresponse));
      }

}</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\DeformedBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/DeformedBaffleListGimpyEngine.html#64">64</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredListGimpyEngine.html#56">56</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        ripple.setXAmplitude(10);
        ripple.setYAmplitude(3);
        ripple.setXWavelength(20);
        ripple.setYWavelength(10);
        ripple.setEdgeAction(com.jhlabs.image.TransformFilter.CLAMP);

        rippleBack.setWaveType(com.jhlabs.image.RippleFilter.NOISE);
        rippleBack.setXAmplitude(5);
        rippleBack.setYAmplitude(5);
        rippleBack.setXWavelength(10);
        rippleBack.setYWavelength(10);
        rippleBack.setEdgeAction(com.jhlabs.image.TransformFilter.CLAMP);

        water.setAmplitude(5);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\textdecorator\BaffleTextDecorator.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/textdecorator/BaffleTextDecorator.html#84">84</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\textdecorator\LineTextDecorator.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/textdecorator/LineTextDecorator.html#74">74</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        this(numberOfLinesPerGlyph, linesColorGenerator);
        this.alphaCompositeType = alphaCompositeType != null ? alphaCompositeType.intValue() : this.alphaCompositeType;
    }

    public void decorateAttributedString(Graphics2D g2, AttributedString attributedWord, ChangeableAttributedString newAttrString) {
        Color oldColor = g2.getColor();
        Composite oldComp = g2.getComposite();
        g2.setComposite(AlphaComposite.getInstance(alphaCompositeType));
        for (int j = 0; j &lt; attributedWord.getIterator().getEndIndex(); j++) {
            g2.setColor(linesColorGenerator.getNextColor());</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\sound\gimpy\GimpySoundFactory.java</td>
<td><a href="./xref/com/octo/captcha/sound/gimpy/GimpySoundFactory.html#85">85</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\sound\spellfind\SpellFindCaptchaFactory.java</td>
<td><a href="./xref/com/octo/captcha/sound/spellfind/SpellFindCaptchaFactory.html#115">115</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        SoundCaptcha soundCaptcha = new SpellerSound(getQuestion(locale), sound, response.toString());
        return soundCaptcha;
    }

    protected String getQuestion(Locale locale) {
        return CaptchaQuestionHelper.getQuestion(locale, BUNDLE_QUESTION_KEY);
    }


    protected Integer getRandomLength() {
        /*Integer wordLength;
        int range = maxWords-minWords;
        int randomRange = range != 0 ? myRandom.nextInt(range + 1) : 0;
        return randomRange + minWords;*/
        Integer wordLength;
        int range = getWordToSound().getMaxAcceptedWordLength()
                - getWordToSound().getMinAcceptedWordLength();
        int randomRange = range != 0 ? myRandom.nextInt(range + 1) : 0;
        wordLength = new Integer(randomRange + getWordToSound().getMinAcceptedWordLength());
        return wordLength;
    }

    /*

private class WordAndPosition{
public WordAndPosition(String word, int position) {
    this.word = word;
    this.position = position;
}

String word;
int position;
}
    */
}</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\service\RunableAbstractManageableCaptchaServiceTest.java</td>
<td><a href="./xref-test/com/octo/captcha/service/RunableAbstractManageableCaptchaServiceTest.html#254">254</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\service\RunableAbstractManageableCaptchaServiceTest.java</td>
<td><a href="./xref-test/com/octo/captcha/service/RunableAbstractManageableCaptchaServiceTest.html#288">288</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>                    getMService().getNumberOfCorrectResponses());
        }

        for (int i = 0; i &lt; CAPTCHA_STORE_LOAD_BEFORE_GARBAGE_COLLECTION; i++) {
            String id = String.valueOf(i);
            service.generateAndStoreCaptcha(Locale.getDefault(), id);
            try {
                service.validateResponseForID(&quot;unknown&quot;, &quot;false&quot;);
                fail(&quot;should have thrown an exception&quot;);
            } catch (CaptchaServiceException e) {
            	assertNotNull(e.getMessage());
            }
            assertEquals(&quot;should not have been incremented&quot;, CAPTCHA_STORE_LOAD_BEFORE_GARBAGE_COLLECTION,
                    getMService().getNumberOfCorrectResponses());</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\service\image\AbstractManageableImageCaptchaService.java</td>
<td><a href="./xref/com/octo/captcha/service/image/AbstractManageableImageCaptchaService.html#73">73</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\service\multitype\GenericManageableCaptchaService.java</td>
<td><a href="./xref/com/octo/captcha/service/multitype/GenericManageableCaptchaService.html#149">149</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        if (ImageCaptcha.class.isAssignableFrom(captchaClass)) {
            BufferedImage challenge = (BufferedImage) captcha.getChallenge();
            BufferedImage clone = new BufferedImage(challenge.getWidth(), challenge.getHeight(), challenge.getType());
            clone.getGraphics().drawImage(challenge, 0, 0, clone.getWidth(), clone.getHeight(), null);
            clone.getGraphics().dispose();
            return clone;
        } else if (SoundCaptcha.class.isAssignableFrom(captchaClass)) {</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\image\gimpy\Gimpy.java</td>
<td><a href="./xref/com/octo/captcha/image/gimpy/Gimpy.html#26">26</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\text\math\MathCaptcha.java</td>
<td><a href="./xref/com/octo/captcha/text/math/MathCaptcha.html#21">21</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    MathCaptcha(String question, String challenge, String response) {
        super(question, challenge);
        this.response = response;
    }

    /**
     * Validation routine from the CAPTCHA interface. this methods verify if the response is not null and a String and
     * then compares the given response to the internal string.
     *
     * @return true if the given response equals the internal response, false otherwise.
     */
    public final Boolean validateResponse(final Object response) {
        return (null != response &amp;&amp; response instanceof String)
                ? validateResponse((String) response) : Boolean.FALSE;
    }

    /**
     * Very simple validation routine that compares the given response to the internal string.
     *
     * @return true if the given response equals the internal response, false otherwise.
     */
    private final Boolean validateResponse(final String response) {
        return Boolean.valueOf(response.equals(this.response));
    }
}</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\ImageCaptchaEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/ImageCaptchaEngine.html#85">85</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\sound\SoundCaptchaEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/sound/SoundCaptchaEngine.html#63">63</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        return getNextSoundCaptcha(locale);
    }

    /**
     * @return captcha factories used by this engine
     */
    public CaptchaFactory[] getFactories() {
        return (CaptchaFactory[]) this.factories.toArray(new CaptchaFactory[factories.size()]);
    }

    /**
     * @param factories new captcha factories for this engine
     */
    public void setFactories(CaptchaFactory[] factories) throws CaptchaEngineException {
        checkNotNullOrEmpty(factories);
        ArrayList tempFactories = new ArrayList();

        for (int i = 0; i &lt; factories.length; i++) {
            if (!SoundCaptchaFactory.class.isAssignableFrom(factories[i].getClass())) {</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\BaffleRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/BaffleRandomTextPaster.html#125">125</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\DoubleRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/DoubleRandomTextPaster.html#68">68</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>                                   final AttributedString attributedWord) throws CaptchaException {
        BufferedImage out = copyBackground(background);
        Graphics2D g2 = pasteBackgroundAndSetTextColor(out, background);

        g2.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS,
                RenderingHints.VALUE_FRACTIONALMETRICS_ON);
        g2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);
        g2.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,
                RenderingHints.VALUE_TEXT_ANTIALIAS_ON);
        // this attribute doesn't do anything in JDK 1.4, but maybe it will in JDK 1.5
        // attributedString.addAttribute(TextAttribute.WIDTH, TextAttribute.WIDTH_EXTENDED);

        // convert string into a series of glyphs we can work with
        ChangeableAttributedString newAttrString = new ChangeableAttributedString(g2,
                attributedWord, kerning);

        // space out the glyphs with a little kerning
        newAttrString.useMinimumSpacing(kerning);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\service\image\AbstractManageableImageCaptchaService.java</td>
<td><a href="./xref/com/octo/captcha/service/image/AbstractManageableImageCaptchaService.html#27">27</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\service\multitype\GenericManageableCaptchaService.java</td>
<td><a href="./xref/com/octo/captcha/service/multitype/GenericManageableCaptchaService.html#48">48</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    										CaptchaEngine captchaEngine,
								            int minGuarantedStorageDelayInSeconds,
								            int maxCaptchaStoreSize,
								            int captchaStoreLoadBeforeGarbageCollection) {
    	super(captchaStore, captchaEngine, minGuarantedStorageDelayInSeconds,
    			maxCaptchaStoreSize, captchaStoreLoadBeforeGarbageCollection);
    }
    
    /**
     * Method to retrive the image challenge corresponding to the given ticket.
     *
     * @param ID the ticket
     *
     * @return the challenge
     *
     * @throws com.octo.captcha.service.CaptchaServiceException
     *          if the ticket is invalid
     */
    public BufferedImage getImageChallengeForID(String ID) throws CaptchaServiceException {
        return (BufferedImage) this.getChallengeForID(ID);
    }

    /**
     * Method to retrive the image challenge corresponding to the given ticket.
     *
     * @param ID the ticket
     *
     * @return the challenge
     *
     * @throws com.octo.captcha.service.CaptchaServiceException
     *          if the ticket is invalid
     */
    public BufferedImage getImageChallengeForID(String ID, Locale locale) throws CaptchaServiceException {
        return (BufferedImage) this.getChallengeForID(ID, locale);
    }</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\DoubleTextPasterTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/textpaster/DoubleTextPasterTest.html#57">57</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\SimpleTextPasterTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/textpaster/SimpleTextPasterTest.html#56">56</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>            test = this.simpleTextPaster.pasteText(testBufferedImage, testAttributedString);
        } catch (CaptchaException e) {
            assertNotNull(e);
        }
        assertNotNull(test);
        assertEquals(testBufferedImage.getHeight(), test.getHeight());
        assertEquals(testBufferedImage.getWidth(), test.getWidth());
    }

    public void testGetMaxAcceptedWordLenght() {
        assertEquals(this.maxAcceptedWordLength.intValue(),
                this.simpleTextPaster.getMaxAcceptedWordLenght());</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\FilteredBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredBaffleListGimpyEngine.html#108">108</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredBaffleListGimpyEngine.html#116">116</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>                        new ImageFilter[]{crystal}, new ImageFilter[]{ripple});
        this.addFactory(
                new com.octo.captcha.image.gimpy.GimpyFactory(words,
                        word2image));
        //select filters for 3
        word2image =
                new com.octo.captcha.component.image.wordtoimage.FilteredComposedWordToImage(
                        font, back, paster, new ImageFilter[]{rippleBack},
                        new ImageFilter[]{}, new ImageFilter[]{weaves});</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\color\RandomRangeColorGeneratorTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/color/RandomRangeColorGeneratorTest.html#69">69</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\color\RandomRangeColorGeneratorTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/color/RandomRangeColorGeneratorTest.html#82">82</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        int[] redRange = new int[]{-12, 42};
        int[] greenRange = new int[]{57, 62};
        int[] blueRange = new int[]{10, 12};

        try {
            colorGenerator = new RandomRangeColorGenerator(redRange, greenRange, blueRange);
            fail();
        } catch (CaptchaException e) {
        	assertNotNull(e.getMessage());
        }
    }

    public void testClosedRange() {</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\word\wordgenerator\DictionaryWordGeneratorTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/word/wordgenerator/DictionaryWordGeneratorTest.html#47">47</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\word\wordgenerator\DictionaryWordGeneratorTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/word/wordgenerator/DictionaryWordGeneratorTest.html#64">64</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>            String test = this.dictionaryWordGenerator.getWord(length, Locale.US);
            assertNotNull(test);
            assertTrue(test.length() &gt; 0);
            assertEquals(length.intValue(), test.length());
        }
        try {
            this.dictionaryWordGenerator.getWord(UNKNOWN_LENGTH);
            fail(&quot;Should throw a CaptchaException&quot;);
        } catch (CaptchaException e) {
            assertNotNull(e.getMessage());
        }
    }</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\BaffleRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/BaffleRandomTextPaster.html#126">126</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\RandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/RandomTextPaster.html#64">64</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>                                   final AttributedString attributedString) {
        BufferedImage out = copyBackground(background);
        Graphics2D g2 = pasteBackgroundAndSetTextColor(out, background);
        g2.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS,
                RenderingHints.VALUE_FRACTIONALMETRICS_ON);
        g2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);
        g2.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,
                RenderingHints.VALUE_TEXT_ANTIALIAS_ON);
        // this doesn't do anything in JDK 1.4, but maybe it will in JDK 1.5
        // attributedString.addAttribute(TextAttribute.WIDTH, TextAttribute.WIDTH_EXTENDED);

        // convert string into a series of glyphs we can work with
        ChangeableAttributedString newAttrString = new ChangeableAttributedString(g2,</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\DeformedBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/DeformedBaffleListGimpyEngine.html#79">79</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredListGimpyEngine.html#71">71</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        water.setWavelength(10);

        twirl.setAngle(3 / 360);

        sphere.setRefractionIndex(1);

        weaves.setUseImageColors(true);

        crystal.setScale(0.5f);
        crystal.setGridType(com.jhlabs.image.CrystalizeFilter.RANDOM);
        crystal.setFadeEdges(false);
        crystal.setEdgeThickness(0.2f);
        crystal.setRandomness(0.1f);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\fisheye\SimpleFishEyeEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/fisheye/SimpleFishEyeEngine.html#44">44</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredGimpyEngine.html#48">48</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        com.jhlabs.image.RippleFilter rippleBack = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.RippleFilter ripple = new com.jhlabs.image.RippleFilter();
        com.jhlabs.image.TwirlFilter twirl = new com.jhlabs.image.TwirlFilter();
        com.jhlabs.image.WaterFilter water = new com.jhlabs.image.WaterFilter();</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\ImageCaptchaEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/ImageCaptchaEngine.html#105">105</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\sound\SoundCaptchaEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/sound/SoundCaptchaEngine.html#82">82</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>                throw new CaptchaEngineException(&quot;This factory is not an sound captcha factory &quot; + factories[i].getClass());
            }
            tempFactories.add(factories[i]);
        }

        this.factories = tempFactories;
    }

  protected void checkNotNullOrEmpty(CaptchaFactory[] factories) {
        if (factories == null || factories.length == 0) {
            throw new CaptchaEngineException(&quot;impossible to set null or empty factories&quot;);
        }
    }</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\sound\gimpy\GimpySoundFactory.java</td>
<td><a href="./xref/com/octo/captcha/sound/gimpy/GimpySoundFactory.html#57">57</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\sound\speller\SpellerSoundFactory.java</td>
<td><a href="./xref/com/octo/captcha/sound/speller/SpellerSoundFactory.html#67">67</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    }

    public WordToSound getWordToSound() {
        return this.word2Sound;
    }

    public WordGenerator getWordGenerator() {
        return this.wordGenerator;
    }

    /**
     * @return a Sound Captcha
     */
    public SoundCaptcha getSoundCaptcha() {
        String word = this.wordGenerator.getWord(getRandomLength(), Locale.getDefault());
        AudioInputStream sound = this.word2Sound.getSound(wordDecorator.decorateWord(word));</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\DoubleRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/DoubleRandomTextPaster.html#52">52</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\NonLinearTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/NonLinearTextPaster.html#40">40</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    public NonLinearTextPaster(Integer minAcceptedWordLength, Integer maxAcceptedWordLength,
                            ColorGenerator colorGenerator, Boolean manageColorPerGlyph) {
        super(minAcceptedWordLength, maxAcceptedWordLength, colorGenerator, manageColorPerGlyph);
    }

    /**
     * Pastes the attributed string on the backround image and return the final image. Implementation must take into
     * account the fact that the text must be readable by human and non by programs.
     *
     * @return the final image
     *
     * @throws com.octo.captcha.CaptchaException
     *          if any exception accurs during paste routine.
     */
    public BufferedImage pasteText(final BufferedImage background,
                                   final AttributedString attributedWord) throws CaptchaException {

        BufferedImage out = copyBackground(background);
        Graphics2D g2 = pasteBackgroundAndSetTextColor(out, background);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\FilteredGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredGimpyEngine.html#102">102</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredGimpyEngine.html#110">110</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        factories[1] =
                new com.octo.captcha.image.gimpy.GimpyFactory(words,
                        word2image);
        //select filters for 3
        word2image =
                new com.octo.captcha.component.image.wordtoimage.FilteredComposedWordToImage(
                        font, back, paster, new ImageFilter[]{rippleBack},
                        new ImageFilter[]{}, new ImageFilter[]{weaves});</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\FilteredDoubleRandomListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredDoubleRandomListGimpyEngine.html#59">59</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredListGimpyEngine.html#92">92</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>                new RandomFontGenerator(new Integer(25), new Integer(35));
        com.octo.captcha.component.word.wordgenerator.WordGenerator words =
                new com.octo.captcha.component.word.wordgenerator.DictionaryWordGenerator(
                        new com.octo.captcha.component.word.FileDictionary(
                                &quot;toddlist&quot;));

        //build factories
        com.octo.captcha.image.ImageCaptchaFactory[] factories = new com.octo.captcha.image.ImageCaptchaFactory[3];</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\DeformedBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/DeformedBaffleListGimpyEngine.html#68">68</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredDoubleRandomListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredDoubleRandomListGimpyEngine.html#43">43</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        com.jhlabs.image.RippleFilter rippleBack = new com.jhlabs.image.RippleFilter();

        rippleBack.setWaveType(com.jhlabs.image.RippleFilter.NOISE);
        rippleBack.setXAmplitude(5);
        rippleBack.setYAmplitude(5);
        rippleBack.setXWavelength(10);
        rippleBack.setYWavelength(10);
        rippleBack.setEdgeAction(com.jhlabs.image.TransformFilter.CLAMP);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\wordtoimage\ComposedWordToImageTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/wordtoimage/ComposedWordToImageTest.html#43">43</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\wordtoimage\FilteredComposedWordToImageTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/wordtoimage/FilteredComposedWordToImageTest.html#45">45</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    private Integer minAcceptedWordLength = new Integer(1);
    private Integer maxAcceptedWordLength = new Integer(10);
    private Integer imageHeight = new Integer(100);
    private Integer imageWidth = new Integer(100);
    private Integer minFontSize = new Integer(10);
    private Integer maxFontSize = new Integer(10);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\DoubleTextPasterTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/textpaster/DoubleTextPasterTest.html#48">48</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\SimpleTextPasterTest.java</td>
<td><a href="./xref-test/com/octo/captcha/component/image/textpaster/SimpleTextPasterTest.html#48">48</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        this.simpleTextPaster = new SimpleTextPaster(this.minAcceptedWordLength, this.maxAcceptedWordLength, Color.blue);
    }

    public void testPasteText() {
        BufferedImage testBufferedImage = new BufferedImage(100, 50, BufferedImage.TYPE_INT_RGB);
        AttributedString testAttributedString = new AttributedString(&quot;test&quot;);
        BufferedImage test = null;
        try {
            test = this.simpleTextPaster.pasteText(testBufferedImage, testAttributedString);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\BaffleRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/BaffleRandomTextPaster.html#74">74</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\BaffleRandomTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/BaffleRandomTextPaster.html#92">92</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        super(minAcceptedWordLength, maxAcceptedWordLength, colorGenerator, manageColorPerGlyph);
        this.numberOfHolesPerGlyph = numberOfHolesPerGlyph != null ? numberOfHolesPerGlyph
                : this.numberOfHolesPerGlyph;
        this.holesColorGenerator = new SingleColorGenerator(holesColor != null ? holesColor
                : colorGenerator.getNextColor());
    }

    /**
     * @param minAcceptedWordLength Max length of a word
     * @param maxAcceptedWordLength Min length of a word
     * @param colorGenerator        Color generatior for the text
     * @param manageColorPerGlyph   Boolean to set if each glyph can have a new color from the color generator
     * @param numberOfHolesPerGlyph Number of holes around the glyph
     * @param holesColorGenerator   The color genator for the glyphs (one color for all glyph)
     */
    public BaffleRandomTextPaster(Integer minAcceptedWordLength, Integer maxAcceptedWordLength,
                                  ColorGenerator colorGenerator, Boolean manageColorPerGlyph, Integer numberOfHolesPerGlyph,</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\service\AbstractCaptchaService.java</td>
<td><a href="./xref/com/octo/captcha/service/AbstractCaptchaService.html#71">71</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\service\AbstractCaptchaService.java</td>
<td><a href="./xref/com/octo/captcha/service/AbstractCaptchaService.html#106">106</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        if (!this.store.hasCaptcha(ID)) {
            //if not generate it
            captcha = generateAndStoreCaptcha(locale, ID);
        } else {
            captcha = this.store.getCaptcha(ID);
            if (captcha == null) {
                captcha = generateAndStoreCaptcha(locale, ID);
            }else if (locale != null) {</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\FilteredBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredBaffleListGimpyEngine.html#100">100</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\FilteredBaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/FilteredBaffleListGimpyEngine.html#116">116</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>                        new ImageFilter[]{emboss}, new ImageFilter[]{ripple});
        this.addFactory(
                new com.octo.captcha.image.gimpy.GimpyFactory(words,
                        word2image));
        //select filters for 2
        word2image =
                new com.octo.captcha.component.image.wordtoimage.FilteredComposedWordToImage(
                        font, back, paster, new ImageFilter[]{rippleBack},</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\BasicListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/BasicListGimpyEngine.html#39">39</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\MultipleGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/MultipleGimpyEngine.html#45">45</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>    static {
        //word generator
        com.octo.captcha.component.word.wordgenerator.WordGenerator dictionnaryWords = new com.octo.captcha.component.word.wordgenerator.DictionaryWordGenerator(
                new com.octo.captcha.component.word.FileDictionary(
                        &quot;toddlist&quot;));

        //wordtoimage components
        TextPaster randomPaster = new RandomTextPaster(new Integer(6),</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\component\image\textpaster\DoubleTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/DoubleTextPaster.html#63">63</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\component\image\textpaster\SimpleTextPaster.java</td>
<td><a href="./xref/com/octo/captcha/component/image/textpaster/SimpleTextPaster.html#51">51</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>                                   final AttributedString attributedWord) throws CaptchaException {
        int x = (background.getWidth()) / 20;
        int y = (background.getHeight()) / 2;
        BufferedImage out = copyBackground(background);
        Graphics2D g2 = pasteBackgroundAndSetTextColor(out, background);
        //pie.drawString(attributedWord.getIterator(), x, y);
        //pie.dispose();

        // convert string into a series of glyphs we can work with
        ChangeableAttributedString newAttrString = new ChangeableAttributedString(g2,
                attributedWord, 2);</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
<p><table class="bodyTable"><tr class="a"><th>File</th>
<th>Line</th>
</tr>
<tr class="b"><td>com\octo\captcha\engine\image\gimpy\BaffleListGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/BaffleListGimpyEngine.html#41">41</a>
</td>
</tr>
<tr class="a"><td>com\octo\captcha\engine\image\gimpy\DefaultGimpyEngine.java</td>
<td><a href="./xref/com/octo/captcha/engine/image/gimpy/DefaultGimpyEngine.html#73">73</a>
</td>
</tr>
<tr class="b"><td colspan='2'><div class="source"><pre>        com.octo.captcha.component.word.wordgenerator.WordGenerator dictionnaryWords = new com.octo.captcha.component.word.wordgenerator.ComposeDictionaryWordGenerator(
                new com.octo.captcha.component.word.FileDictionary(
                        &quot;toddlist&quot;));
        //wordtoimage components
        TextPaster randomPaster = new DecoratedRandomTextPaster(new Integer(6), new Integer(</pre>
</div>
</td></tr>
<table class="bodyTable"></p>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2003-2009
    
          JCaptcha corp.
          
  

  
    
            
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
